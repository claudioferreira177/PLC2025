JUMP MAIN
BinToInt:
PUSHN 4
PUSHI 0
STOREL 2
PUSHI 1
STOREL 3
PUSHL -1
STRLEN
STOREL 1
FORSTART2:
PUSHL 1
PUSHI 1
INF
JZ FORBODY3
JUMP FOREND4
FORBODY3:
PUSHL -1
PUSHL 1
PUSHI 1
SUB
CHARAT
PUSHI 49
EQUAL
JZ IFEND1
PUSHL 2
PUSHL 3
ADD
STOREL 2
IFEND1:
PUSHL 3
PUSHI 2
MUL
STOREL 3
PUSHL 1
PUSHI 1
SUB
STOREL 1
JUMP FORSTART2
FOREND4:
PUSHL 2
STOREL 0
PUSHL 0
STOREL -2
RETURN
MAIN:
PUSHN 2
START
PUSHS "Introduza uma string binária:"
WRITES
WRITELN
READ
STOREG 0
PUSHI 0
PUSHG 0
PUSHA BinToInt
CALL
POP 1
STOREG 1
PUSHS "O valor inteiro correspondente é: "
WRITES
PUSHG 1
WRITEI
WRITELN
STOP
